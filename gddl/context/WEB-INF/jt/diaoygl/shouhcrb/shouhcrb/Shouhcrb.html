<html jwcid="@Shell" doctype=" " title="数量管理"
	stylesheet="ognl:assets.Rmis">
<link rel="stylesheet" type="text/css"
	href="ext/resources/css/ext-all.css" />
<link rel="stylesheet" type="text/css"
	href="ext/resources/css/xtheme-gray.css" />
<script type="text/javascript" src="ext/adapter/ext/ext-base.js"></script>
<script type="text/javascript" src="ext/ext-all.js"></script>
<script type="text/javascript" src="ext/source/widgets/form/Combo.js"></script>
<script type="text/javascript">
Ext.onReady(function(){
	cbofun_FengsSelect();
});
</script>
<body id="body" jwcid="@Body">
<!--  class="bgs" -->
<script jwcid="Shouhcrbjs" />
    
<script jwcid="Datejs" />
    
<script jwcid="Validatejs" />
    
<div id="wait"
	style="POSITION: absolute;BORDER-RIGHT: gray 0px solid;z-index:1; PADDING-RIGHT: 2px; BORDER-TOP: gray 0px solid; PADDING-LEFT: 2px; PADDING-BOTTOM: 2px; OVERFLOW: none; BORDER-LEFT: gray 0px solid; PADDING-TOP: 2px; BORDER-BOTTOM: gray 0px solid;HEIGHT: 218;width:330">
<iframe jwcid="@Iframe" page="Waiting" height="100%"
	oncontextmenu="self.event.returnValue=false" name="mainFrame"
	style="background:ThreeDLowwer" width="100%" align="middle"
	frameborder="0" scrolling="no"> </iframe></div>
<script>
		document.all.item("wait").style.posTop=(body.clientHeight-document.all.item("wait").clientHeight)/2;
		document.all.item("wait").style.posLeft=(body.clientWidth-document.all.item("wait").clientWidth )/2;
     	function Showwait(){
			if(document.all.item("wait").style.display=="none"){
                 document.all.item("wait").style.display="";
                 return true;
            }else{
                 return false;
            }
        }
    </script>

<script>
        
        function Kucjs(obj){
        	var row;
        	var zhi = obj.value;
        	if(objselectCol.name.indexOf("$")==-1){
        		row=0;
        	}else{
        		row=eval(objselectCol.name.substring(objselectCol.name.indexOf("$")+1))+1;
        	}
        	if(objselectCol.id=="GONGM"){
        		document.all.item("LEIJGM",row).value=parseInt(zhi)+parseInt(document.all.item("LEIJGM",row).value)-parseInt(document.all.item("GONGM",row).value);
	       		document.all.item("KUC",row).value=parseInt(zhi)-parseInt(document.all.item("HAOY",row).value)+parseInt(document.all.item("SHANGYKC",row).value)+parseInt(document.all.item("TIAOZL",row).value);
	   			
	   		}	
	   		if(objselectCol.id=="HAOY"){
        		document.all.item("LEIJHM",row).value=parseInt(zhi)+parseInt(document.all.item("LEIJHM",row).value)-parseInt(document.all.item("HAOY",row).value);
	   			document.all.item("KUC",row).value=parseInt(document.all.item("GONGM",row).value)-parseInt(zhi)+parseInt(document.all.item("SHANGYKC",row).value)+parseInt(document.all.item("TIAOZL",row).value);
	   		}
	   		if(objselectCol.id=="TIAOZL"){
        		
	   			document.all.item("KUC",row).value=parseInt(document.all.item("KUC",row).value)-parseInt(document.all.item("TIAOZL",row).value)+parseInt(zhi);
	   		}
	   		
        }
        
    </script>

<form listener="ognl:listeners.submit" jwcid="@Form"
	delegate="ognl:beans.delegate"
	onkeydown="if(event.keyCode==13)return false;"><span
	jwcid="@ZRcontrib:ModalDialog" message="ognl:msg"> </span>

<table id="tablemain" border="0" cellspacing="0" cellpadding="0"
	width="100%">
	<tr id="trcondition" valign=middle height="20">
		<td>
		<table valign="middle" class="toolBar">
			<tr>
				<span jwcid="@Conditional" condition="ognl:DiancUser">
				<td width="35" class="text-position"
					style="font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 11px;color: #666666;">单位:</td>
				<td width="100" style="font-size: 13px;"><span jwcid="@Insert"
					value="ognl:DiancName" /></td>
				</span>

				<span jwcid="@Conditional" condition="ognl:GongsUser"> </span>

				<td width="35"
					style="font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 11px;color: #666666;">日期:</td>
				<td width="120"><input readonly="true" class="text-position"
					style="width:100;height:21" jwcid="riqDateSelect"
					id="riqDateSelect" type="text" /></td>
				<!-- 集团用户进来时显示分公司下拉框 -->
				<span jwcid="@Conditional" condition="ognl:JitUserShow">
				<td width="35" class="text-position"
					style="font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 11px;color: #666666;">单位:</td>
				<td width="140"><input width="130"
					style="font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 11px;color: #666666;z-index:200"
					submitOnChange="true" jwcid="FengsSelect" id="FengsSelect"
					type="text" /></td>
				</span>
				<td width="45"><span jwcid="@ZRcontrib:ImgButton"
					buttontype="refurbish" onclick="return Showwait()" label="刷新"
					listener="ognl:listeners.RefurbishButton" /></td>
				<td><span jwcid="Save@ZRcontrib:ImgButton" buttontype="save"
					label="保存"
					onclick="if(IsNotNull('GONGM,HAOY,KUC','供煤,耗用,库存')){return Showwait();} else {return false;}"
					listener="ognl:listeners.SaveButton" /></td>
				<td><input class="text-position" style="display:none;"
					jwcid="EditTableRow" id="EditTableRow" type="text" /></td>
			</tr>
		</table>
		</td>
	</tr>
	<tr id="SelectData" valign=top>
		<td>
		<div id="SelectFrmDiv" class="text-position"
			style="BORDER-RIGHT: gray 1px solid; PADDING-RIGHT: 2px; BORDER-TOP: gray 1px solid; PADDING-LEFT: 2px; PADDING-BOTTOM: 2px; OVERFLOW: none; BORDER-LEFT: gray 1px solid; PADDING-TOP: 2px; BORDER-BOTTOM: gray 1px solid;HEIGHT: 100%">
		<div id="SelectHeadDiv"
			style="OVERFLOW: hidden; background-color:#FFFFFF">
		<table id="EditHeadTabel" bordercolordark="#ffffff" cellpadding="1"
			bordercolor="#ffffff"
			style="font-family:Geneva, Arial, Helvetica, sans-serif;font-size: 11px;color: #525252;padding: 3px;"
			bordercolorlight="#AFB6C7" border="1" cellspacing="#ffffff"
			class="edittablehead" jwcid="@Any"
			background="ognl:assets.background" width="795">
			<tr width="795" align="center">

				<th jwcid="@Any" width="40" height="29" align="center"><label
					id="tittleHead" class="text-position"
					style="position:relative;left:0;width:35px">&nbsp;序号</label></th>
				<th jwcid="@Any" width="150" height="29" align="center"><label
					id="tittleHead" class="text-position"
					style="position:relative;left:0;width:145px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;电厂名称</label></th>
				<th jwcid="@Any" width="80" height="29" align="center"><label
					id="tittleHead" class="text-position"
					style="position:relative;left:0;width:75px">&nbsp;&nbsp;&nbsp;&nbsp;供煤(吨)</label></th>
				<th jwcid="@Any" width="100" height="29" align="center"><label
					id="tittleHead" class="text-position"
					style="position:relative;left:0;width:95px">&nbsp;&nbsp;&nbsp;累计供煤(吨)</label></th>
				<th jwcid="@Any" width="80" height="29" align="center"><label
					id="tittleHead" class="text-position"
					style="position:relative;left:0;width:75px">&nbsp;&nbsp;&nbsp;&nbsp;耗用(吨)</label></th>
				<th jwcid="@Any" width="100" height="29" align="center"><label
					id="tittleHead" class="text-position"
					style="position:relative;left:0;width:95px">&nbsp;&nbsp;&nbsp;累计耗用(吨)</label></th>
				<th jwcid="@Any" width="85" height="29" align="center"><label
					id="tittleHead" class="text-position"
					style="position:relative;left:0;width:80px">&nbsp;&nbsp;昨日库存(吨)</label></th>
				<th jwcid="@Any" width="80" height="29" align="center"><label
					id="tittleHead" class="text-position"
					style="position:relative;left:0;width:75px">&nbsp;&nbsp;&nbsp;&nbsp;库存(吨)</label></th>

				<th jwcid="@Any" width="80" height="29" align="center"><label
					id="tittleHead" class="text-position"
					style="position:relative;left:0;width:75px">&nbsp;&nbsp;&nbsp;&nbsp;调整量</label></th>
			</tr>
		</table>
		</div>
		<div id="SelectDataDiv" onscroll="_onscroll(this,SelectHeadDiv)"
			style="POSITION: absolute;BORDER-RIGHT: gray 0px solid; PADDING-RIGHT: 0px; BORDER-TOP: gray 0px solid; PADDING-LEFT: 2px; PADDING-BOTTOM:0px; OVERFLOW: auto; BORDER-LEFT: gray 0px solid; PADDING-TOP: 0px; BORDER-BOTTOM: gray 0px solid;">
		<table id="oData" class="edittable" border="0" cellpadding="0"
			cellspacing="0"
			style="font-family:Geneva, Arial, Helvetica, sans-serif;font-size: 11px;color: #525252;"
			width="795">
			<tr Height="21" onclick="classchange(this,'onclick')"
				onmouseout="classchange(this,'onmouseout')"
				onmouseover="classchange(this,'onmouseover')" width="795"
				jwcid="EditValues" class="edittableTrOut">

				<td width="40" class="tdText"><input readonly="true"
					class="text-position" style="width:38px"
					onkeydown="if(event.keyCode==13)event.keyCode=9" jwcid="XUH"
					id="XUH" type="text" /></td>
				<td width="150" class="tdText"><input readonly="false"
					class="text-position" style="width:148px"
					onkeydown="if(event.keyCode==13)event.keyCode=9"
					jwcid="DIANCHANGMC" id="DIANCHANGMC" type="text" /></td>
				<td width="80"><input readonly="true"
					onclick="editin(this,'onclick');editclick(this,EditInput);"
					onfocus="editin(this,'onclick');editclick(this,EditInput);"
					class="text-position" style="width:78px"
					onkeydown="if(event.keyCode==13)event.keyCode=9" jwcid="GONGM"
					id="GONGM" type="text" /></td>
				<td width="100" class="tdText"><input readonly="true"
					class="text-position" style="width:98px"
					onkeydown="if(event.keyCode==13)event.keyCode=9" jwcid="LEIJGM"
					id="LEIJGM" type="text" /></td>
				<td width="80"><input readonly="true"
					onclick="editin(this,'onclick');editclick(this,EditInput);"
					onfocus="editin(this,'onclick');editclick(this,EditInput);"
					class="text-position" style="width:78px"
					onkeydown="if(event.keyCode==13)event.keyCode=9" jwcid="HAOY"
					id="HAOY" type="text" /></td>
				<td width="100" class="tdText"><input readonly="true"
					class="text-position" style="width:98px"
					onkeydown="if(event.keyCode==13)event.keyCode=9" jwcid="LEIJHM"
					id="LEIJHM" type="text" /></td>
				<td width="85" class="tdText"><input readonly="true"
					class="text-position" style="width:83px"
					onkeydown="if(event.keyCode==13)event.keyCode=9" jwcid="SHANGYKC"
					id="SHANGYKC" type="text" /></td>
				<td width="80" class="tdText"><input readonly="true"
					class="text-position" style="width:78px"
					onkeydown="if(event.keyCode==13)event.keyCode=9" jwcid="KUC"
					id="KUC" type="text" /></td>
				<td width="80"><input readonly="true"
					onclick="editin(this,'onclick');editclick(this,EditInput);"
					onfocus="editin(this,'onclick');editclick(this,EditInput);"
					class="text-position" style="width:78px"
					onkeydown="if(event.keyCode==13)event.keyCode=9" jwcid="TIAOZL"
					id="TIAOZL" type="text" /></td>
			</tr>
		</table>
		<input onchange="editchange(1)" style="display:none;"
			class="bigtext-position" id="EditInputUpdateAll" type="text" /> <input
			onchange="if(myMatchNum(this)){Kucjs(this);}editchange(0);"
			onkeydown="if(event.keyCode==13){event.keyCode=9}"
			style="display:none;" class="bigtext-position" id="EditInput"
			type="text" /></div>
		</div>
		</td>
	</tr>
</table>
</form>
</body>
<script>window.onresize();document.all.item("wait").style.display="none";</script>
</html>
